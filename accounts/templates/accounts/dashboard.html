{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
    <span class="menu-btn" onclick="openSettings()">‚ò∞</span>
    Easy Fitness
</div>

<!-- MAIN DASHBOARD -->
<div class="container">

    <h2>Welcome, {{ username }}</h2>

    <div class="actions">
        <a href="/workouts/add/">‚ûï Add Workout</a>
        <a href="/premium/" style="margin-left:15px;">üíé Upgrade to Premium</a>
    </div>

    <hr>

    <!-- WORKOUT SECTION -->
    <h3>Your Workouts</h3>

    {% if workouts %}
        {% for workout in workouts %}
            <div class="workout-card">
                <strong>{{ workout.name }}</strong><br>
                Duration: {{ workout.duration }} minutes<br>
                Date: {{ workout.date }}
            </div>
        {% endfor %}
    {% else %}
        <p>No workouts added yet.</p>
    {% endif %}

    <hr>

    <!-- DIET PLAN -->
    <h3>Your Diet Plan</h3>

    <form method="post">
        {% csrf_token %}
        <label><strong>Enter your weight (kg):</strong></label><br>
        <input type="number" name="weight" required>
        <button type="submit">View Diet</button>
    </form>

    {% if diet_plan %}
        <div class="diet-card">
            <h4>{{ diet_plan.type }}</h4>
            <p><strong>Based on weight:</strong> {{ weight }} kg</p>
            <ul>
                {% for item in diet_plan.items %}
                    <li>{{ item }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

</div>

<!-- SETTINGS SLIDE PANEL -->
<div id="settings-panel" class="settings-panel">
    <span class="close-btn" onclick="closeSettings()">‚úñ</span>

    <h3>Settings</h3>
    <ul>
        <li><a href="#">‚è± Stopwatch</a></li>
        <li><a href="#">‚ùì Help</a></li>
        <li><a href="#">‚Ñπ About Us</a></li>
        <li><a href="/premium/">‚≠ê Upgrade to Premium</a></li>
        <li><a href="/logout/" class="logout">üö™ Logout</a></li>
    </ul>
</div>

<!-- JS -->
<script>
function openSettings() {
    document.getElementById("settings-panel").style.left = "0";
}
function closeSettings() {
    document.getElementById("settings-panel").style.left = "-50%";
}
</script>

</body>
</html>
